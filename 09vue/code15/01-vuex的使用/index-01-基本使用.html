<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>
<body>
  <script src="./node_modules/vue/dist/vue.js"></script>
  <script src="./node_modules/vuex/dist/vuex.js"></script>

  <script>
    
    // 通过Vuex.Store构造函数可以创建一个store对象
    // 一个项目只需要一个store对象就可以了
    // store对象中的数据是响应式的
    const store = new Vuex.Store({
      // 数据 存储数据的对象
      strict: "true",
      state: {
        msg: "hello world"
      },
      // mutations里面放的就是用来修改数据的方法
      mutations: {
        updateMsg(state, value){
          // 这个函数就是用来修改state中的数据的
          // 可以接收两个参数
          // state 指的就是vuex的存储数据的对象
          // value 当用户通过 store.commit 方法来触发这个函数的时候，commit方法的第二个参数就会被赋值给value
          state.msg = value
        }
      }
    });

    // 用来管理数据的对象，一般需要提供的功能
    // 1. 存储数据
    // 2. 获取数据  store.state.msg
    // 3. 修改数据
    // console.log(store.state.msg)
    // store.state.msg = "123"

    // vuex不允许直接通过给store.state中的数据赋值 来修改数据
    // console.log(store.state.msg);
    
    // 在vuex中如果需要修改数据
    // 那么我们就需要在vuex中提供修改数据的方法
    // 这些修改数据的方法，全都放在一个叫mutations的对象中

    // mutations中的方法，如何触发？

    store.commit("updateMsg", 123)

    console.log(store.state.msg);
  </script>
</body>
</html>
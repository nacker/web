# 复习

## 非父子组件通信

global event bus

```js

const bus = new Vue();


const brotherA = {
  template: "",
  methods: {
    getMsg(value){
      console.log(value)
    }
  },
  created(){
    bus.$on("事件名称", this.getMsg)
  }
}



const brotherB = {
  template: "<div><button @click='btnClick'>发送消息给A</button></div>",
  data(){
    return {
      msg: ""
    }
  },
  methods: {
    btnClick(){
      bus.$emit("事件名称", this.msg)
    }
  }
}

```

Vuex

## $refs

reference 引用

在父组件中，可以通过$refs和ref属性配合来获取父组件中的子组件对象或者DOM元素

```html
<组件 ref="名字"></组件>  this.$refs.名字  
<button ref="名字">btn</button> this.$refs.名字
```

## $parent

在子组件中，获取父节点的组件实例或者dom元素

## SPA

单页面应用

只有一个面，切换页面的时候，其实是页面中的组件/元素实现切换效果

单页面应用其实就是根据hash值的变化，对页面中展示的内容进行切换显示！

window.onHashChange = function(){

}

## 路由

Url和组件的对应关系

vue-router

1. npm i vue-router
2. script标签引入
  
```js

const home = {
  template: ""
}

const router = new VueRouter({
  routes: [
    {
      path: "/home"
      component: home
    }
  ]
})

const vm = new Vue({
  ...
  router
})

// 需要在html中为路由匹配到的组件指定展示的位置
// <router-view></router-view>
```

### 声明式导航

<router-link to="/home"></router-link>
<router-link :to="{path: '/home'}"></router-link>

### 编程式导航

```js
this.$router.push("/home")
this.$router.push({path: '/home'})
```
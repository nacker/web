# Vue 第二天

## 绑定事件

v-on 指令可以用来绑定事件

```html
如果不需要给事件处理函数传递参数，就直接写名字
<button v-on:事件名称.事件修饰符.事件修饰符="事件处理函数的名称">按钮</button>
如果要给事件处理函数传递参数，就写名字加(), 参数就放在小括号里

<button v-on:事件名称.事件修饰符.事件修饰符="事件处理函数的名称()">按钮</button>

<button v-on:事件名称.事件修饰符.事件修饰符="箭头函数">按钮</button>

v-on:可以简写为@
<button @事件名称.事件修饰符.事件修饰符="事件处理函数的名称">按钮</button>
```

### 事件对象的获取

1. 如果是没有小括号注册的，直接用形参e获取就行了，Vue会自动帮我们传递进来的
2. 如果是有小括号注册的，需要手动将$event传入到函数中

### 事件处理函数中的this指向

this指向的就是当前的Vue实例，我们可以通过this直接访问data中的数据，methods中的函数



## 事件修饰符

注册事件的时候，事件名称后面直接.修饰符名称即可

事件修饰符可以为事件附加额外的功能：
.stop 可以用来终止事件冒泡
.prevent 可以用来阻止浏览器的默认行为
.once
.self
.capture


## 按键修饰符

注册按键事件的时候，我们可以指定只让特定的键生效

keyup.enter
keyup.esc
keyup.space
keyup.delete
keyup.tab

keyup.上下左右


## 双向绑定

双向绑定描述的是视图和数据的关系，当数据发生变化的时候，视图也会同步更新，视图发生变化的时候，数据也会同步更新

指令： v-model

注意：

1. 双向绑定一般是用在表单元素中的
2. 如果要获取表单元素的值，我们不需要再去做DOM操作了，直接使用双向绑定即可


## TodoMVC（敲3遍）

0. 造点假数据
1. 列表展示功能， v-for
2. 设置列表元素的类样式（completed）   
   1. 这里要给数据中添加一个属性用来标记完成状态，completed类样式直接和这个属性进行关联即可  :class="{completed: item.isCompleted}"
3. 完成状态， 只需要将数据的isCompleted属性和checkbox进行双向绑定就可以了
4. 删除功能   注册事件，在事件中获取当前的id， 通过filter方法进行过滤即可
5. 添加功能   注册回车按键事件（按键修饰符），在事件中，通过双向绑定的方式来获取用户输入的内容，构建一个新的todo对象，添加到数组中，清空文本框
6. 编辑功能 
   1. 编辑的样式绑定   
      1. 声明一个数据，用来保存当前正在编辑的元素的id，默认让他是-1
      2. 当双击某个元素的时候，将这个id改成我们当前点击的元素的id即可
      3. 类样式的写法 :class="{completed: item.isCompleted, editing: currentEdit == item.id}"
   2. 做文本框的数据双向绑定
      1. <input v-model="item.todo">
      2. 注册了回车事件，回车事件中，我们把currentEdit改成了-1
7. footer的展示和隐藏
   1. v-if v-show
   2. <footer  v-show="todoList.length">
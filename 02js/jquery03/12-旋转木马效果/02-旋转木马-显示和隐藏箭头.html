<!DOCTYPE html>
<html>
<head lang="en">
  <meta charset="UTF-8">
  <title>旋转木马轮播图</title>
  <link rel="stylesheet" href="css/css.css"/>
  <style>
    /* .slide .slide1 {
      width: 400px;
      top: 20px;
      left: 50px;
      opacity: 0.2;
      z-index: 2;
    }

    .slide .slide2 {
      width: 600px;
      top: 70px;
      left: 0;
      opacity: 0.8;
      z-index: 3;
    }

    .slide .slide3 {
      width: 800px;
      top: 100px;
      left: 200px;
      opacity: 1;
      z-index: 4;
    }

    .slide .slide4 {
      width: 600px;
      top: 70px;
      left: 600px;
      opacity: 0.8;
      z-index: 3;
    }

    .slide .slide5 {
      width: 400px;
      top: 20px;
      left: 750px;
      opacity: .2;
      z-index: 2;
    } */
  </style>
</head>
<body>
<div class="wrap" id="wrap">
  <div class="slide" id="slide">
    <ul>
      <li class="slide1"><a href="#"><img src="images/slidepic1.jpg" alt=""/></a></li>
      <li class="slide2"><a href="#"><img src="images/slidepic2.jpg" alt=""/></a></li>
      <li class="slide3"><a href="#"><img src="images/slidepic3.jpg" alt=""/></a></li>
      <li class="slide4"><a href="#"><img src="images/slidepic4.jpg" alt=""/></a></li>
      <li class="slide5"><a href="#"><img src="images/slidepic5.jpg" alt=""/></a></li>
    </ul>
    <div class="arrow" id="arrow">
      <a href="javascript:;" class="prev" id="arrLeft"></a>
      <a href="javascript:;" class="next" id="arrRight"></a>
    </div>
  </div>
</div>

<script src="jquery-1.12.4.js"></script>
<script>
  $(function(){
    // 用来存放5个位置的样式
    var arr = [
      {
        width: 400,
        top: 20,
        left: 50,
        opacity: .2,
        zIndex: 2
      },
      {
        width: 600,
        top: 70,
        left: 0,
        opacity: .8,
        zIndex: 3
      },
      {
        width: 800,
        top: 100,
        left: 200,
        opacity: 1,
        zIndex: 4
      },
      {
        width: 600,
        top: 70,
        left: 600,
        opacity: 0.8,
        zIndex: 3
      },
      {
        width: 400,
        top: 20,
        left: 750,
        opacity: .2,
        zIndex: 2
      }
    ];
    
    // 1. 给整个盒子注册mouseenter事件， 让箭头显示
    // 2. 给整个盒子注册mouseleave事件， 让箭头隐藏
    var $wrap = $('#wrap');
    var $arrow = $('#arrow');
    var $li = $('#wrap li');
    $wrap.mouseenter(function() {
      $arrow.stop().animate({opacity: 1});
    });

     $wrap.mouseleave(function() {
      $arrow.stop().animate({opacity: 0});
    });


    // 2. 让每个li都有一个位置
    for(var i = 0; i < $li.length; i++) {
      $li.eq(i).animate(arr[i]);
    }


    // 3. 右箭头功能
    $('#arrRight').click(function() {
      // arr.shift()  arr.pop()
      // arr.push()  arr.unshift()
      // arr.push( arr.shift() );
      arr.unshift( arr.pop() );
      // 再给所有的li重新分配
      for(var i = 0; i < $li.length; i++) {
        $li.eq(i).animate(arr[i]);
      }
    });

    $('#arrLeft').click(function() {
      arr.push( arr.shift() );
      // 再给所有的li重新分配
      for(var i = 0; i < $li.length; i++) {
        $li.eq(i).animate(arr[i]);
      }
    });



  });
</script>

</body>
</html>